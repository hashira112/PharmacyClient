{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\karth\\\\Desktop\\\\pharm\\\\Pharmacy\\\\src\\\\pages\\\\dash.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport { Line, Pie } from 'react-chartjs-2';\nimport money from \"../assets/icons/money.svg\";\nimport calendar from \"../assets/icons/calendar.svg\";\nimport infographic from \"../assets/icons/infographic.svg\";\nimport util from '../util/main';\nimport axios from 'axios';\nexport default function Dash() {\n  _s();\n\n  const [sales, setSales] = useState({\n    status: false,\n    data: null\n  });\n  let date = new Date();\n  let totalSales = 0,\n      monthlySales = [0, 1, 2, 3, 4],\n      filterSales,\n      performance,\n      pieData = []; //sales data api \n\n  useEffect(() => {\n    axios.get('http://localhost:8080/api/sales').then(res => setSales({\n      status: true,\n      data: Object.values(res.data)\n    }));\n    console.log(sales.data);\n  }, []); //data functions\n\n  if (sales.status) {\n    filterSales = monthlySales.map(item => {\n      let monthTotal = 0;\n      let filter = sales.data.filter(ele => parseInt(ele.date.slice(3, 5)) === util.alternative(monthlySales.indexOf(item)) + 1);\n      filter.length !== 0 ? filter.map(data => monthTotal = monthTotal + parseInt(data.amount)) : monthTotal = 0;\n      return monthTotal;\n    });\n\n    for (let i = 0; i < 5; i++) {\n      let item = {\n        month: util.months[util.alternative(i)],\n        total: filterSales[i]\n      };\n      pieData.push(item);\n    }\n\n    pieData.sort((a, b) => {\n      return a.total - b.total;\n    });\n    console.log(pieData);\n    totalSales = filterSales.reduce((a, b) => a + b, 0);\n    performance = (filterSales[1] - filterSales[2]) * 100 / filterSales[1];\n  } //pie chart    \n\n\n  const pie = {\n    labels: sales.status ? [pieData[4].month, pieData[3].month, pieData[2].month] : [],\n    datasets: [{\n      label: 'Sales',\n      data: sales.status ? [pieData[4].total, pieData[3].total, pieData[2].total] : [],\n      backgroundColor: ['rgba(182, 219, 175, 0.5)', 'rgba(116, 171, 106, 0.6)', 'rgba(58, 117, 47, 0.9)'],\n      borderWidth: 0\n    }]\n  };\n  console.log(filterSales); //graph chart\n\n  const bar = {\n    labels: [util.months[util.alternative(4)], util.months[util.alternative(3)], util.months[util.alternative(2)], util.months[util.alternative(1)], util.months[date.getMonth()]],\n    datasets: [{\n      label: 'Sales',\n      data: sales.status ? [filterSales[4], filterSales[3], filterSales[2], filterSales[1], filterSales[0]] : [0, 0, 0, 0, 0],\n      fill: true,\n      backgroundColor: 'rgba(192, 227, 186, 1)',\n      borderColor: 'rgb(58, 117, 47)'\n    }]\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"dash-main\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"dash-tab\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"dash-tab-p\",\n          children: \"Total Sales\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 14\n        }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"dash-tab-head\",\n          children: sales.status ? filterSales.reduce((a, b) => a + b, 0) : null\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"dash-tab-icon-back\",\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: money,\n          className: \"dash-tab-icon\",\n          alt: \"\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 45\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"dash-tab\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"dash-tab-p\",\n          children: \"Last Month Sales\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 14\n        }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"dash-tab-head\",\n          children: sales.status ? filterSales[1] : null\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"dash-tab-icon-back\",\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: calendar,\n          className: \"dash-tab-icon\",\n          alt: \"\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"dash-tab\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"dash-tab-p\",\n          children: \"Last Month Performance\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"dash-tab-head\",\n          children: sales.status ? performance.toFixed(2) + \"%\" : null\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"dash-tab-icon-back\",\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: infographic,\n          className: \"dash-tab-icon\",\n          alt: \"\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"dash-graph\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"dash-graph-span\",\n        children: /*#__PURE__*/_jsxDEV(Line, {\n          width: 10,\n          options: util.options,\n          data: bar\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 68\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 35\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"dash-pie\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"dash-pie-head\",\n        children: \"Top Sales\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 35\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"dash-pie-p\",\n        children: \"By Months\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Pie, {\n        height: 180,\n        options: {\n          legend: {\n            labels: {\n              fontFamily: 'Poppins',\n              fontSize: 0\n            },\n            position: 'bottom'\n          }\n        },\n        data: pie\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 48\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 72,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Dash, \"dLbRXMy7lI/nFU934WQZPYZ2y4s=\");\n\n_c = Dash;\n\nvar _c;\n\n$RefreshReg$(_c, \"Dash\");","map":{"version":3,"sources":["C:/Users/karth/Desktop/pharm/Pharmacy/src/pages/dash.js"],"names":["React","useState","useEffect","Line","Pie","util","axios","Dash","sales","setSales","status","data","date","Date","totalSales","monthlySales","filterSales","performance","pieData","get","then","res","Object","values","console","log","map","item","monthTotal","filter","ele","parseInt","slice","alternative","indexOf","length","amount","i","month","months","total","push","sort","a","b","reduce","pie","labels","datasets","label","backgroundColor","borderWidth","bar","getMonth","fill","borderColor","money","calendar","toFixed","infographic","options","legend","fontFamily","fontSize","position"],"mappings":";;;;;AAAA,OAAOA,KAAP,IAAcC,QAAd,EAAuBC,SAAvB,QAAuC,OAAvC;AACA,SAASC,IAAT,EAAeC,GAAf,QAAyB,iBAAzB;;;;AAIA,OAAOC,IAAP,MAAiB,cAAjB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,eAAe,SAASC,IAAT,GAAgB;AAAA;;AAC7B,QAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBR,QAAQ,CAAC;AAACS,IAAAA,MAAM,EAAC,KAAR;AAAcC,IAAAA,IAAI,EAAC;AAAnB,GAAD,CAAlC;AACA,MAAIC,IAAI,GAAG,IAAIC,IAAJ,EAAX;AACA,MAAIC,UAAU,GAAG,CAAjB;AAAA,MAAoBC,YAAY,GAAG,CAAC,CAAD,EAAG,CAAH,EAAK,CAAL,EAAO,CAAP,EAAS,CAAT,CAAnC;AAAA,MAAgDC,WAAhD;AAAA,MAA6DC,WAA7D;AAAA,MAA0EC,OAAO,GAAC,EAAlF,CAH6B,CAK7B;;AACAhB,EAAAA,SAAS,CAAC,MAAM;AACdI,IAAAA,KAAK,CAACa,GAAN,CAAU,iCAAV,EAA6CC,IAA7C,CAAkDC,GAAG,IAAEZ,QAAQ,CAAC;AAACC,MAAAA,MAAM,EAAC,IAAR;AAAaC,MAAAA,IAAI,EAACW,MAAM,CAACC,MAAP,CAAcF,GAAG,CAACV,IAAlB;AAAlB,KAAD,CAA/D;AACIa,IAAAA,OAAO,CAACC,GAAR,CAAYjB,KAAK,CAACG,IAAlB;AACH,GAHM,EAGJ,EAHI,CAAT,CAN6B,CAW7B;;AACA,MAAGH,KAAK,CAACE,MAAT,EAAgB;AACdM,IAAAA,WAAW,GAAGD,YAAY,CAACW,GAAb,CAAiBC,IAAI,IAAG;AACtC,UAAIC,UAAU,GAAG,CAAjB;AACA,UAAIC,MAAM,GAAGrB,KAAK,CAACG,IAAN,CAAWkB,MAAX,CAAkBC,GAAG,IAAIC,QAAQ,CAACD,GAAG,CAAClB,IAAJ,CAASoB,KAAT,CAAe,CAAf,EAAiB,CAAjB,CAAD,CAAR,KAAmC3B,IAAI,CAAC4B,WAAL,CAAiBlB,YAAY,CAACmB,OAAb,CAAqBP,IAArB,CAAjB,IAA6C,CAAzG,CAAb;AACAE,MAAAA,MAAM,CAACM,MAAP,KAAkB,CAAlB,GAAoBN,MAAM,CAACH,GAAP,CAAWf,IAAI,IAAIiB,UAAU,GAAGA,UAAU,GAAGG,QAAQ,CAACpB,IAAI,CAACyB,MAAN,CAArD,CAApB,GACCR,UAAU,GAAG,CADd;AAEA,aAAOA,UAAP;AACD,KANe,CAAd;;AAOA,SAAI,IAAIS,CAAC,GAAC,CAAV,EAAaA,CAAC,GAAC,CAAf,EAAkBA,CAAC,EAAnB,EAAsB;AACpB,UAAIV,IAAI,GAAG;AAACW,QAAAA,KAAK,EAACjC,IAAI,CAACkC,MAAL,CAAYlC,IAAI,CAAC4B,WAAL,CAAiBI,CAAjB,CAAZ,CAAP;AAAyCG,QAAAA,KAAK,EAACxB,WAAW,CAACqB,CAAD;AAA1D,OAAX;AACAnB,MAAAA,OAAO,CAACuB,IAAR,CAAad,IAAb;AACD;;AACDT,IAAAA,OAAO,CAACwB,IAAR,CAAa,CAACC,CAAD,EAAIC,CAAJ,KAAU;AACrB,aAAOD,CAAC,CAACH,KAAF,GAAUI,CAAC,CAACJ,KAAnB;AACD,KAFD;AAGAhB,IAAAA,OAAO,CAACC,GAAR,CAAYP,OAAZ;AACAJ,IAAAA,UAAU,GAAGE,WAAW,CAAC6B,MAAZ,CAAmB,CAACF,CAAD,EAAIC,CAAJ,KAAUD,CAAC,GAAGC,CAAjC,EAAoC,CAApC,CAAb;AACA3B,IAAAA,WAAW,GAAG,CAACD,WAAW,CAAC,CAAD,CAAX,GAAeA,WAAW,CAAC,CAAD,CAA3B,IAAgC,GAAhC,GAAoCA,WAAW,CAAC,CAAD,CAA7D;AACD,GA9B4B,CAgC7B;;;AACE,QAAM8B,GAAG,GAAG;AACVC,IAAAA,MAAM,EAAEvC,KAAK,CAACE,MAAN,GAAa,CAACQ,OAAO,CAAC,CAAD,CAAP,CAAWoB,KAAZ,EAAmBpB,OAAO,CAAC,CAAD,CAAP,CAAWoB,KAA9B,EAAqCpB,OAAO,CAAC,CAAD,CAAP,CAAWoB,KAAhD,CAAb,GAAoE,EADlE;AAEVU,IAAAA,QAAQ,EAAE,CACR;AACEC,MAAAA,KAAK,EAAE,OADT;AAEEtC,MAAAA,IAAI,EAAEH,KAAK,CAACE,MAAN,GAAa,CAACQ,OAAO,CAAC,CAAD,CAAP,CAAWsB,KAAZ,EAAkBtB,OAAO,CAAC,CAAD,CAAP,CAAWsB,KAA7B,EAAmCtB,OAAO,CAAC,CAAD,CAAP,CAAWsB,KAA9C,CAAb,GAAkE,EAF1E;AAGEU,MAAAA,eAAe,EAAE,CACf,0BADe,EAEf,0BAFe,EAGf,wBAHe,CAHnB;AAQEC,MAAAA,WAAW,EAAE;AARf,KADQ;AAFA,GAAZ;AAeA3B,EAAAA,OAAO,CAACC,GAAR,CAAYT,WAAZ,EAhD2B,CAiD3B;;AACE,QAAMoC,GAAG,GAAG;AACVL,IAAAA,MAAM,EAAE,CAAC1C,IAAI,CAACkC,MAAL,CAAYlC,IAAI,CAAC4B,WAAL,CAAiB,CAAjB,CAAZ,CAAD,EAAkC5B,IAAI,CAACkC,MAAL,CAAYlC,IAAI,CAAC4B,WAAL,CAAiB,CAAjB,CAAZ,CAAlC,EAAoE5B,IAAI,CAACkC,MAAL,CAAYlC,IAAI,CAAC4B,WAAL,CAAiB,CAAjB,CAAZ,CAApE,EAAqG5B,IAAI,CAACkC,MAAL,CAAYlC,IAAI,CAAC4B,WAAL,CAAiB,CAAjB,CAAZ,CAArG,EAAuI5B,IAAI,CAACkC,MAAL,CAAY3B,IAAI,CAACyC,QAAL,EAAZ,CAAvI,CADE;AAEVL,IAAAA,QAAQ,EAAE,CAAC;AACPC,MAAAA,KAAK,EAAE,OADA;AAEPtC,MAAAA,IAAI,EAAEH,KAAK,CAACE,MAAN,GAAa,CAACM,WAAW,CAAC,CAAD,CAAZ,EAAiBA,WAAW,CAAC,CAAD,CAA5B,EAAiCA,WAAW,CAAC,CAAD,CAA5C,EAAiDA,WAAW,CAAC,CAAD,CAA5D,EAAiEA,WAAW,CAAC,CAAD,CAA5E,CAAb,GAA+F,CAAC,CAAD,EAAG,CAAH,EAAK,CAAL,EAAO,CAAP,EAAS,CAAT,CAF9F;AAGPsC,MAAAA,IAAI,EAAE,IAHC;AAIPJ,MAAAA,eAAe,EAAE,wBAJV;AAKPK,MAAAA,WAAW,EAAE;AALN,KAAD;AAFA,GAAZ;AAYF,sBACA;AAAK,IAAA,SAAS,EAAC,WAAf;AAAA,4BAEE;AAAK,MAAA,SAAS,EAAC,UAAf;AAAA,8BACE;AAAA,gCAAK;AAAG,UAAA,SAAS,EAAC,YAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAAL,eACA;AAAI,UAAA,SAAS,EAAC,eAAd;AAAA,oBAA+B/C,KAAK,CAACE,MAAN,GAAaM,WAAW,CAAC6B,MAAZ,CAAmB,CAACF,CAAD,EAAIC,CAAJ,KAAUD,CAAC,GAAGC,CAAjC,EAAoC,CAApC,CAAb,GAAqD;AAApF;AAAA;AAAA;AAAA;AAAA,gBADA;AAAA;AAAA;AAAA;AAAA;AAAA,cADF,eAGE;AAAK,QAAA,SAAS,EAAC,oBAAf;AAAA,+BAAoC;AAAK,UAAA,GAAG,EAAEY,KAAV;AAAiB,UAAA,SAAS,EAAC,eAA3B;AAA2C,UAAA,GAAG,EAAC;AAA/C;AAAA;AAAA;AAAA;AAAA;AAApC;AAAA;AAAA;AAAA;AAAA,cAHF;AAAA;AAAA;AAAA;AAAA;AAAA,YAFF,eASE;AAAK,MAAA,SAAS,EAAC,UAAf;AAAA,8BACE;AAAA,gCAAK;AAAG,UAAA,SAAS,EAAC,YAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAAL,eACA;AAAI,UAAA,SAAS,EAAC,eAAd;AAAA,oBAA+BhD,KAAK,CAACE,MAAN,GAAaM,WAAW,CAAC,CAAD,CAAxB,GAA6B;AAA5D;AAAA;AAAA;AAAA;AAAA,gBADA;AAAA;AAAA;AAAA;AAAA;AAAA,cADF,eAIE;AAAK,QAAA,SAAS,EAAC,oBAAf;AAAA,+BACA;AAAK,UAAA,GAAG,EAAEyC,QAAV;AAAoB,UAAA,SAAS,EAAC,eAA9B;AAA8C,UAAA,GAAG,EAAC;AAAlD;AAAA;AAAA;AAAA;AAAA;AADA;AAAA;AAAA;AAAA;AAAA,cAJF;AAAA;AAAA;AAAA;AAAA;AAAA,YATF,eAkBE;AAAK,MAAA,SAAS,EAAC,UAAf;AAAA,8BACE;AAAA,gCACE;AAAG,UAAA,SAAS,EAAC,YAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,eAEE;AAAI,UAAA,SAAS,EAAC,eAAd;AAAA,oBAA+BjD,KAAK,CAACE,MAAN,GAAaO,WAAW,CAACyC,OAAZ,CAAoB,CAApB,IAAuB,GAApC,GAAyC;AAAxE;AAAA;AAAA;AAAA;AAAA,gBAFF;AAAA;AAAA;AAAA;AAAA;AAAA,cADF,eAKE;AAAK,QAAA,SAAS,EAAC,oBAAf;AAAA,+BACE;AAAK,UAAA,GAAG,EAAEC,WAAV;AAAuB,UAAA,SAAS,EAAC,eAAjC;AAAiD,UAAA,GAAG,EAAC;AAArD;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,cALF;AAAA;AAAA;AAAA;AAAA;AAAA,YAlBF,eA4BE;AAAK,MAAA,SAAS,EAAC,YAAf;AAAA,6BAA4B;AAAK,QAAA,SAAS,EAAC,iBAAf;AAAA,+BAAiC,QAAC,IAAD;AAAM,UAAA,KAAK,EAAE,EAAb;AAAiB,UAAA,OAAO,EAAEtD,IAAI,CAACuD,OAA/B;AAAwC,UAAA,IAAI,EAAER;AAA9C;AAAA;AAAA;AAAA;AAAA;AAAjC;AAAA;AAAA;AAAA;AAAA;AAA5B;AAAA;AAAA;AAAA;AAAA,YA5BF,eA6BI;AAAK,MAAA,SAAS,EAAC,UAAf;AAAA,8BAA0B;AAAI,QAAA,SAAS,EAAC,eAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAA1B,eACA;AAAG,QAAA,SAAS,EAAC,YAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADA,eACuC,QAAC,GAAD;AAAK,QAAA,MAAM,EAAE,GAAb;AAAkB,QAAA,OAAO,EAAE;AAACS,UAAAA,MAAM,EAAC;AAACd,YAAAA,MAAM,EAAC;AAACe,cAAAA,UAAU,EAAC,SAAZ;AAAuBC,cAAAA,QAAQ,EAAC;AAAhC,aAAR;AAA2CC,YAAAA,QAAQ,EAAC;AAApD;AAAR,SAA3B;AAAmG,QAAA,IAAI,EAAElB;AAAzG;AAAA;AAAA;AAAA;AAAA,cADvC;AAAA;AAAA;AAAA;AAAA;AAAA,YA7BJ;AAAA;AAAA;AAAA;AAAA;AAAA,UADA;AAmCH;;GAjGuBvC,I;;KAAAA,I","sourcesContent":["import React,{useState,useEffect} from 'react'\r\nimport  {Line, Pie} from 'react-chartjs-2'\r\nimport money from '../assets/icons/money.svg'\r\nimport calendar from '../assets/icons/calendar.svg'\r\nimport infographic from '../assets/icons/infographic.svg'\r\nimport util from '../util/main'\r\nimport axios from 'axios'\r\n\r\nexport default function Dash() {\r\n  const [sales, setSales] = useState({status:false,data:null})\r\n  let date = new Date()\r\n  let totalSales = 0, monthlySales = [0,1,2,3,4], filterSales, performance, pieData=[]\r\n\r\n  //sales data api \r\n  useEffect(() => {\r\n    axios.get('http://localhost:8080/api/sales').then(res=>setSales({status:true,data:Object.values(res.data)}))      \r\n        console.log(sales.data)         \r\n    }, [])\r\n\r\n  //data functions\r\n  if(sales.status){  \r\n    filterSales = monthlySales.map(item =>{\r\n    let monthTotal = 0\r\n    let filter = sales.data.filter(ele => parseInt(ele.date.slice(3,5)) === (util.alternative(monthlySales.indexOf(item))+1 ))\r\n    filter.length !== 0?filter.map(data => monthTotal = monthTotal + parseInt(data.amount))\r\n    :monthTotal = 0\r\n    return monthTotal\r\n  })\r\n    for(let i=0; i<5; i++){\r\n      let item = {month:util.months[util.alternative(i)] ,total:filterSales[i]}\r\n      pieData.push(item)\r\n    }\r\n    pieData.sort((a, b) => {\r\n      return a.total - b.total;\r\n    });\r\n    console.log(pieData)\r\n    totalSales = filterSales.reduce((a, b) => a + b, 0)\r\n    performance = (filterSales[1]-filterSales[2])*100/filterSales[1]\r\n  }\r\n      \r\n  //pie chart    \r\n    const pie = {\r\n      labels: sales.status?[pieData[4].month, pieData[3].month, pieData[2].month]:[],\r\n      datasets: [\r\n        {\r\n          label: 'Sales',\r\n          data: sales.status?[pieData[4].total,pieData[3].total,pieData[2].total]:[],\r\n          backgroundColor: [\r\n            'rgba(182, 219, 175, 0.5)',\r\n            'rgba(116, 171, 106, 0.6)',\r\n            'rgba(58, 117, 47, 0.9)',\r\n          ],\r\n          borderWidth: 0,\r\n        },\r\n      ],\r\n    }\r\n    console.log(filterSales)\r\n    //graph chart\r\n      const bar = {\r\n        labels: [util.months[util.alternative(4)],util.months[util.alternative(3)], util.months[util.alternative(2)],util.months[util.alternative(1)], util.months[date.getMonth()],],\r\n        datasets: [{\r\n            label: 'Sales',\r\n            data: sales.status?[filterSales[4], filterSales[3], filterSales[2], filterSales[1], filterSales[0]]: [0,0,0,0,0],\r\n            fill: true,\r\n            backgroundColor: 'rgba(192, 227, 186, 1)',\r\n            borderColor: 'rgb(58, 117, 47)',\r\n          },\r\n        ],\r\n      }\r\n\r\n    return (\r\n    <div className='dash-main'>\r\n      \r\n      <div className='dash-tab'>\r\n        <div><p className='dash-tab-p'>Total Sales</p>\r\n        <h1 className='dash-tab-head'>{sales.status?filterSales.reduce((a, b) => a + b, 0) :null}</h1></div>\r\n        <div className='dash-tab-icon-back'><img src={money} className='dash-tab-icon' alt=\"\"/>\r\n        </div>\r\n      </div>\r\n      \r\n      <div className='dash-tab'>\r\n        <div><p className='dash-tab-p'>Last Month Sales</p>\r\n        <h1 className='dash-tab-head'>{sales.status?filterSales[1] :null}</h1>\r\n        </div>\r\n        <div className='dash-tab-icon-back'>\r\n        <img src={calendar} className='dash-tab-icon' alt=\"\"/>\r\n        </div>\r\n      </div>\r\n      \r\n      <div className='dash-tab'>\r\n        <div>\r\n          <p className='dash-tab-p'>Last Month Performance</p>\r\n          <h1 className='dash-tab-head'>{sales.status?performance.toFixed(2)+\"%\" :null}</h1>\r\n        </div>\r\n        <div className='dash-tab-icon-back'>\r\n          <img src={infographic} className='dash-tab-icon' alt=\"\"/>\r\n        </div>\r\n      </div>\r\n\r\n      <div className='dash-graph'><div className='dash-graph-span'><Line width={10} options={util.options} data={bar} /></div></div>\r\n        <div className='dash-pie'><h2 className='dash-pie-head'>Top Sales</h2>\r\n        <p className='dash-pie-p'>By Months</p><Pie height={180} options={{legend:{labels:{fontFamily:'Poppins', fontSize:0},position:'bottom'}}} data={pie}/></div>\r\n\r\n    </div>\r\n    )\r\n}\r\n"]},"metadata":{},"sourceType":"module"}