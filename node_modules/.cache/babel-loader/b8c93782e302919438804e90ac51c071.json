{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\karth\\\\Desktop\\\\pharm\\\\Pharmacy\\\\src\\\\pages\\\\login.js\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport { useState } from 'react';\nimport axios from 'axios';\nexport default function Login(props) {\n  _s();\n\n  const [user, setUser] = useState({\n    id: '',\n    pass: ''\n  });\n  const [log, setLog] = useState({\n    status: false,\n    err: null,\n    load: false\n  });\n\n  const validLog = e => {\n    e.preventDefault();\n    if (user.id === '' || user.pass === '') setLog({\n      status: false,\n      err: 'Enter Credentials!',\n      load: false\n    });else {\n      setLog({\n        status: false,\n        err: '',\n        load: true\n      });\n      axios.post('https://localhost:4040/login', {\n        \"username\": user.id,\n        \"password\": user.pass\n      }).then(res => {\n        if (res.status === 200) {\n          props.sub();\n          setLog({\n            err: 'Login Success',\n            state: true,\n            load: false\n          });\n        }\n      }).catch(err => {\n        if (log.status !== true) setLog({\n          status: false,\n          err: 'Invalid Login',\n          load: false\n        });\n      });\n    }\n  };\n\n  const changeHandler = e => {\n    const keyName = e.target.name;\n    const value = e.target.value;\n    setUser({\n      id: user.id,\n      pass: user.pass,\n      [keyName]: value\n    });\n  };\n\n  const clearErr = () => {\n    setLog({\n      err: ''\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"log-tab\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"log-title\",\n        children: \"Log In.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"log-sub\",\n        children: \"with your employee credentials\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        className: \"log-form\",\n        onSubmit: validLog,\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          className: \"log-inp\",\n          onChange: changeHandler,\n          placeholder: \"Employee ID\",\n          onFocus: clearErr,\n          name: \"id\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"password\",\n          className: \"log-inp\",\n          onChange: changeHandler,\n          placeholder: \"Password\",\n          onFocus: clearErr,\n          name: \"pass\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"log-button\",\n          type: \"submit\",\n          children: \"LOG IN\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"log-err\",\n          children: log.err\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 9\n    }, this), log.load ? /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"cover-spin\",\n      className: \"log-load\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 19\n    }, this) : null]\n  }, void 0, true);\n}\n\n_s(Login, \"L5Fv1jmpIO6kuH6kEEihidzui8E=\");\n\n_c = Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"sources":["C:/Users/karth/Desktop/pharm/Pharmacy/src/pages/login.js"],"names":["React","useState","axios","Login","props","user","setUser","id","pass","log","setLog","status","err","load","validLog","e","preventDefault","post","then","res","sub","state","catch","changeHandler","keyName","target","name","value","clearErr"],"mappings":"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","sourcesContent":["import React from 'react'\r\nimport {useState} from 'react'\r\nimport axios from 'axios'\r\n\r\nexport default function Login(props) {\r\n\r\n    const [user, setUser] = useState({id:'', pass:''})\r\n    const [log, setLog] = useState({status:false, err:null, load:false})\r\n    \r\n    const validLog = e =>{\r\n        e.preventDefault()\r\n        if(user.id === '' || user.pass === '') setLog({status: false, err: 'Enter Credentials!', load:false})\r\n        else {\r\n            setLog({status: false, err: '', load: true})\r\n            axios.post('https://localhost:4040/login',{\"username\":user.id,\"password\":user.pass})\r\n            .then((res=>{\r\n                if(res.status === 200){props.sub()\r\n                    setLog({err:'Login Success', state:true, load:false})\r\n                }\r\n            }))\r\n            .catch(err =>{ if(log.status !== true)setLog({status: false, err: 'Invalid Login', load:false})})\r\n        }\r\n    }\r\n\r\n    const changeHandler = e =>{\r\n        const keyName = e.target.name\r\n        const value = e.target.value\r\n        setUser({id: user.id, pass: user.pass, [keyName]: value})\r\n    }\r\n\r\n    const clearErr = ()=>{\r\n        setLog({err:''})\r\n    }\r\n\r\n    return (\r\n        <>\r\n        <div className='log-tab'>\r\n            <h1 className='log-title'>Log In.</h1>\r\n            <p className='log-sub'>with your employee credentials</p>\r\n            <form className='log-form' onSubmit={validLog}>\r\n                <input type=\"text\" className='log-inp' onChange={changeHandler} placeholder='Employee ID' onFocus={clearErr} name=\"id\"/>\r\n                <input type=\"password\" className='log-inp' onChange={changeHandler} placeholder='Password' onFocus={clearErr} name=\"pass\"/>\r\n                <button className='log-button' type=\"submit\">LOG IN</button>\r\n                <p className='log-err'>{log.err}</p>\r\n            </form>\r\n        </div>\r\n        {log.load?<div id=\"cover-spin\" className=\"log-load\"></div>: null }\r\n        </>\r\n    )\r\n}\r\n"]},"metadata":{},"sourceType":"module"}